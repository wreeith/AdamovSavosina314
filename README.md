# Анализ протокола FORTE и разработка загрузчика FBoot файлов
# Отправка команд на FORTE с помощью Python клиента

## 1. Запуск 4diac IDE и FORTE
Перед анализом протокола были запущены:

4diac IDE - среда разработки программ на IEC 61499
FORTE - среда выполнения (runtime)
На скриншоте видно, что обе программы запущены и готовы к работе
В 4diac IDE была создана простая программа

<img width="1919" height="1112" alt="image" src="https://github.com/user-attachments/assets/1afd9f62-3119-45e9-9a44-8cea495db489" />

результат вывода программы - INFO: T#18446743368983882182:  'hello world' = ND (ANY)

## 2. Запуск Wireshark для анализа трафика
Для анализа сетевого трафика был запущен Wireshark с фильтром:

tcp.port == 61499
Wireshark настроен на захват трафика с порта 61499 (стандартный для IEC 61499)


<img width="1915" height="1142" alt="image" src="https://github.com/user-attachments/assets/c6b381a4-1689-4a18-bfb7-77dcca3258f8" />


## 3. Анализ пакетов при загрузке программы
При загрузке программы из 4diac IDE в FORTE были захвачены следующие пакеты:

<img width="1919" height="1042" alt="image" src="https://github.com/user-attachments/assets/e9316cd8-6a4f-423f-8f7a-13778eeec552" />


Видно TCP соединение между IDE (порт 37331) и FORTE (порт 61499)

## 4. Детальный анализ одного пакета
Рассмотрим подробно один из пакетов с данными:

Структура пакета:
TCP заголовок (20 байт)
Данные: 32 52 65 71 75 65 73 74... (в hex)
В ASCII: 2Request ID="100" Action="QUERY"/>

## Написана программа для отправки 4diac команд на FORTE forteconnect.py
Этапы выполнения программы 
### 1. Подключение к FORTE
Соединяется по TCP на порт 61499
Проверяет доступность сервера
Устанавливает безопасное соединение
### 2. Отправка команд протокола IEC 61499
QUERY - запрос информации о системе
CREATE - создание ресурсов и функциональных блоков
WRITE - настройка параметров блоков
START/STOP - запуск и остановка программ
CREATE_CONNECTION - создание соединений между блоками

### 3. Загрузка FBoot файлов
Читает XML файлы программ
Анализирует структуру программы
Отправляет команды в правильной последовательности



FORTE отвечает на команды
